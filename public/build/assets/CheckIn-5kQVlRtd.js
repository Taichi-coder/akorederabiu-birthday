import{r as t,j as e,a as x}from"./app-D9X3kqGB.js";function p(){const[c,l]=t.useState(""),[a,r]=t.useState(null),[d,h]=t.useState([]),o=async()=>{const s=await x.get("/checked-in-guests");h(s.data)};t.useEffect(()=>{o()},[]);const u=async s=>{var m,i;s.preventDefault();try{const n=await x.post("/check-in",{code:c});r({type:"success",message:n.data.message}),l(""),o()}catch(n){r({type:"error",message:((i=(m=n.response)==null?void 0:m.data)==null?void 0:i.message)||"Error"})}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center bg-pink-100 py-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("img",{src:"/golden-penny-logo.png",alt:"Logo",className:"w-12 h-12"}),e.jsx("h1",{className:"text-lg font-bold",children:"The Golden Penny Soup Festival"})]}),e.jsxs("form",{onSubmit:u,className:"bg-white shadow-md rounded-lg p-6 w-full max-w-md",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Scan QR Code"}),e.jsx("input",{type:"text",placeholder:"Enter QR Code or Scan",value:c,onChange:s=>l(s.target.value),className:"border border-gray-300 rounded-md w-full p-2 mb-4"}),e.jsx("button",{type:"submit",className:"bg-green-600 text-white w-full py-2 rounded-md hover:bg-green-700",children:"CHECK-IN"})]}),a&&e.jsx("p",{className:`mt-4 text-sm font-medium ${a.type==="success"?"text-green-600":"text-red-600"}`,children:a.message}),e.jsx("div",{className:"mt-8 bg-white shadow-md rounded-lg p-6 w-full max-w-md text-center",children:d.length===0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-gray-400 text-4xl",children:"⬜⬜"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"No guests checked in yet"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Scan a QR code to begin"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-lg font-bold mb-3",children:"Checked-In Guests"}),e.jsx("ul",{className:"text-left",children:d.map(s=>e.jsx("li",{className:"py-1 border-b",children:s.name},s.id))})]})})]})}export{p as default};
